###############################################
# Public surface hardening (2025-11-04)
#
# Goal: Only publish the root README.md and the
#       entire workspace/ tree. Everything else
#       is ignored by default.
###############################################

# Ignore everything at repo root by default
/*

# Allow the root README and this .gitignore
!/.gitignore
!/README.md

# Allow the entire workspace (source of truth)
!/workspace/
!/workspace/**

# CRITICAL IP PROTECTION: Exclude commercial apps from public GitHub
# These contain patent claims, revenue projections, and proprietary algorithms
workspace/apps/

# Explicitly ignore root-only directories/files that should never be published
# (redundant due to /* rule, but kept for clarity and to prevent accidental whitelisting)
/config/

# But exclude large binary files from workspace
workspace/**/*.h5
workspace/**/*.hdf5
workspace/**/*.nc
workspace/**/*.npz
workspace/**/*.npy
workspace/**/*.zip
workspace/**/*.tar
workspace/**/*.tar.gz
workspace/**/*.pkl
workspace/**/*.pickle

# Large result files
workspace/**/*.mp4
workspace/**/*.avi
workspace/**/*.gif

# Python artifacts
workspace/**/__pycache__/
workspace/**/.pytest_cache/
workspace/**/*.pyc
workspace/**/*.pyo
workspace/**/*.pyd
workspace/**/.Python
workspace/**/pip-log.txt
# Ephemeral test run artifacts (logs/config) â€“ do not track
workspace/results/**/run_config.json
workspace/results/**/session_log.jsonl
workspace/results/**/session_log.txt

# Harness transient telemetry (keep tracked file, ignore any stray copies)
# Keep the canonical metrics JSON tracked, but ignore backup/temp variants
workspace/src/harness/results/*.bak
workspace/src/harness/results/*.json.bak
workspace/src/harness/results/*.tmp

# Generated diagnostics CSV (transient)
workspace/src/diagnostics_core.csv

# Upload backups and bundles not intended for source control
workspace/uploads/backups/

# Do not track transient per-run outputs under src/
workspace/src/results/**

# Keep Git internals visible
!/.git/
